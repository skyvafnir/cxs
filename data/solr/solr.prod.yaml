apiVersion: solr.apache.org/v1beta1
kind: SolrCloud
metadata:
  name: cxs-sl
spec:
  replicas: 3
  solrImage:
    tag: 9.5.0
  zookeeperRef:
    externalConnectionString: zookeeper.data.svc.cluster.local
  scaling:
    vacatePodsOnScaleDown: true
    populatePodsOnScaleUp: true
  customSolrKubeOptions:
    podOptions:
      livenessProbe:
        httpGet:
          scheme: HTTP
          path: /solr/admin/customliveness
          port: 8983
      readinessProbe:
        httpGet:
          scheme: HTTP
          path: /solr/admin/customreadiness
          port: 8983