resources:
  - ../../base

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

helmCharts:
  - name: kafka
    repo: oci://registry-1.docker.io/bitnamicharts
    namespace: data
    releaseName: kafka
    valuesInline:
      zookeeperChrootPath: "kafka-staging"
      broker:
      replicaCount: 3 # Increase the number of replicas to 3
      heapOpts: -Xmx16048m -Xms2024m # Increase the max heap size to 8GB

      resourcesPreset: large # Set a preset profile or define resources
      clusterDomain: kafka.data

      externalZookeeper:
        servers: [zookeeper.data.svc.cluster.local]

namespace: data


